# 피로도 예측 모델 성능 평가 보고서

**평가 날짜**: 2025년 11월 23일
**평가 모델**: Student, Worker, General (총 3개 모델)

---

## 📊 1. 전체 성능 요약

### 모델별 성능 비교

| 모델 | Accuracy | F1 (Macro) | F1 (Weighted) | CV Mean | CV Std |
|------|----------|------------|---------------|---------|--------|
| **General** | **0.7250** | **0.6369** | **0.7170** | **0.6912** | 0.0320 |
| Student | 0.7000 | 0.5792 | 0.6680 | 0.6875 | 0.0190 |
| Worker | 0.7050 | 0.5431 | 0.6692 | 0.6750 | 0.0097 |

**종합 평가**: General 모델이 가장 우수한 성능을 보임

---

## 🎯 2. 클래스별 성능 분석

### Student 모델

| 클래스 | Precision | Recall | F1-Score | Support |
|--------|-----------|--------|----------|---------|
| 좋음 | 0.7188 | 0.5000 | 0.5897 | 46 |
| **보통** | **0.6899** | **0.9083** | **0.7842** | 120 |
| 나쁨 | 0.8000 | 0.2353 | 0.3636 | 34 |

**Confusion Matrix**:
```
실제\예측    좋음    보통    나쁨
좋음         23     23      0
보통          9    109      2
나쁨          0     26      8
```

**분석**:
- ✅ **강점**: '보통' 클래스 예측 우수 (F1: 0.7842)
- ⚠️ **약점**: '나쁨' 클래스 예측 개선 필요 (F1: 0.3636)
- 특성: 정밀도 중심 (False Positive 제어 우수)

---

### Worker 모델

| 클래스 | Precision | Recall | F1-Score | Support |
|--------|-----------|--------|----------|---------|
| 좋음 | 0.7576 | 0.5000 | 0.6024 | 50 |
| **보통** | **0.7000** | **0.9106** | **0.7915** | 123 |
| 나쁨 | 0.5714 | 0.1481 | 0.2353 | 27 |

**Confusion Matrix**:
```
실제\예측    좋음    보통    나쁨
좋음         25     25      0
보통          8    112      3
나쁨          0     23      4
```

**분석**:
- ✅ **강점**: '보통' 클래스 예측 최고 수준 (F1: 0.7915)
- ⚠️ **약점**: '나쁨' 클래스 예측 가장 저조 (F1: 0.2353)
- 특성: 재현율 중심 (실제 케이스 탐지 우수)

---

### General 모델 ⭐

| 클래스 | Precision | Recall | F1-Score | Support |
|--------|-----------|--------|----------|---------|
| **좋음** | **0.7465** | **0.6883** | **0.7162** | 77 |
| **보통** | **0.7131** | **0.8131** | **0.7598** | 107 |
| 나쁨 | 0.7143 | 0.3125 | 0.4348 | 16 |

**Confusion Matrix**:
```
실제\예측    좋음    보통    나쁨
좋음         53     24      0
보통         18     87      2
나쁨          0     11      5
```

**분석**:
- ✅ **강점**: 모든 클래스에서 균형잡힌 성능
- ✅ '좋음', '보통' 클래스 모두 높은 F1 스코어
- ⚠️ **약점**: '나쁨' 클래스는 개선 여지 있음 (F1: 0.4348)
- 특성: 정밀도 중심, 가장 안정적인 예측

---

## 🔍 3. 주요 피처 중요도 분석

### 공통 핵심 피처 (모든 모델)

1. **수면 시간 (sleep_hours)** - 모든 모델에서 1위
2. **수면 질 (sleep_quality)** - 모든 모델에서 2위
3. **심박변이도 (heart_rate_variability)** - 일관되게 상위권
4. **운동 시간 (exercise_minutes)** - 주요 예측 인자

### 모델별 특징적인 피처

**Student 모델**:
- 걸음 수 (steps) - 5위
- 활동 칼로리 (active_calories) - 6위
→ 학생들의 활동량이 피로도 예측에 중요

**Worker 모델**:
- 서있던 시간 (stand_hours) - 5위
- 혈중 산소포화도 (blood_oxygen) - 6위
→ 직장인의 근무 패턴과 건강 지표가 중요

**General 모델**:
- 습도 관련 피처들이 상위권 (humidity_d0, d1, d3)
→ 날씨가 일반인의 피로도에 더 큰 영향

---

## 📈 4. 교차 검증 결과

### Student 모델
- **평균 정확도**: 68.75%
- **표준편차**: 0.0190 (안정적)
- **95% 신뢰구간**: [64.96%, 72.54%]

### Worker 모델
- **평균 정확도**: 67.50%
- **표준편차**: 0.0097 (가장 안정적) ⭐
- **95% 신뢰구간**: [65.56%, 69.44%]

### General 모델
- **평균 정확도**: 69.12%
- **표준편차**: 0.0320 (다소 높음)
- **95% 신뢰구간**: [62.72%, 75.53%]

**분석**: Worker 모델이 가장 일관된 성능을 보이며, General 모델은 변동성이 있으나 평균 성능이 가장 높음

---

## ⚠️ 5. 개선 필요 사항

### 공통 문제점

1. **'나쁨' 클래스 예측 저조**
   - 모든 모델에서 '나쁨' 클래스의 F1 스코어가 낮음
   - 원인: 클래스 불균형 (데이터 부족)

2. **F1 Macro 점수 개선 필요**
   - Student: 0.5792
   - Worker: 0.5431
   - General: 0.6369 (상대적으로 양호)

### 권장 개선 방안

#### 즉시 적용 가능한 방법

1. **클래스 불균형 해결**
   ```python
   # SMOTE (Synthetic Minority Over-sampling Technique)
   from imblearn.over_sampling import SMOTE
   smote = SMOTE(random_state=42)
   X_resampled, y_resampled = smote.fit_resample(X_train, y_train)
   ```

2. **클래스 가중치 조정**
   ```python
   # XGBoost에서 클래스 가중치 설정
   scale_pos_weight = count_negative / count_positive
   ```

3. **'나쁨' 클래스 데이터 증강**
   - 실제 피로도가 높은 사례 더 수집
   - 합성 데이터 생성 시 '나쁨' 클래스 비율 증가

#### 중장기 개선 방안

1. **피처 엔지니어링**
   - 수면 부족 누적 일수 (연속 변수)
   - 주간/주말 구분
   - 날씨 변화량 (전일 대비)
   - 생체 데이터 이동 평균

2. **하이퍼파라미터 튜닝**
   ```python
   from sklearn.model_selection import GridSearchCV
   param_grid = {
       'max_depth': [4, 6, 8],
       'learning_rate': [0.01, 0.1, 0.3],
       'min_child_weight': [1, 3, 5]
   }
   ```

3. **앙상블 모델**
   - XGBoost + Random Forest + LightGBM 결합
   - Voting/Stacking 기법 적용

4. **더 많은 데이터 수집**
   - 현재: 각 모델 1000개 샘플
   - 목표: 5000개 이상 권장

---

## 🏆 6. 최종 결론

### 모델 선택 권장사항

| 사용 상황 | 권장 모델 | 이유 |
|----------|----------|------|
| **일반 사용자** | General | 가장 높은 정확도와 균형잡힌 성능 |
| **학생 대상** | Student | 학생 특성 반영, 활동량 중시 |
| **직장인 대상** | Worker | 가장 안정적, 근무 패턴 반영 |

### 현재 모델의 실용성

✅ **실용 가능한 수준**:
- 70% 정확도는 초기 모델로 양호
- '좋음'과 '보통' 클래스는 신뢰할 만한 수준

⚠️ **주의 필요**:
- '나쁨' 클래스 예측은 참고용으로만 사용
- 의료적 판단에는 사용 불가

### 배포 전 필수 작업

1. ✅ 더 많은 실제 데이터로 재학습
2. ✅ 클래스 불균형 해결
3. ✅ A/B 테스트를 통한 실제 환경 검증
4. ✅ 사용자 피드백 수집 및 모델 개선

---

## 📚 7. 참고 자료

### 사용된 기술 스택
- **모델**: XGBoost 3.1.2
- **평가 지표**: Accuracy, F1-Score (Macro/Weighted), Confusion Matrix
- **검증 방법**: 5-Fold Cross-Validation
- **데이터**: 더미 데이터 (실제 패턴 반영)

### 성능 벤치마크
- 다중 클래스 분류 (3-class)
- 불균형 데이터셋
- 베이스라인 대비: Random (33.3%) → 현재 (70%+)

---

**작성일**: 2025-11-23
**작성자**: Automated Model Evaluation System
**버전**: 1.0
